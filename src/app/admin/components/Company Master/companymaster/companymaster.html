<div class="container mt-4">
  <div class="row align-items-center mb-3">
    <div class="col-12 col-md-8">
      <h5 class="fw-bold">{{ formTitle }}</h5>
    </div>
    <div class="col-12 col-md-4 d-flex justify-content-md-end mt-2 mt-md-0">
      <button type="button" class="btn btn-primary" (click)="addClient()">
        <i class="bi bi-plus"></i> Add New Company
      </button>
    </div>
  </div>

  <table class="table table-bordered table-hover">
    <thead class="table-light">
      <tr>
        <th>Action</th>
        <th>Name</th>
        <th>Email</th>
        <th>Website URL</th>
        <th>API Key</th>
        <th>Is Active</th>
        <th>Company Code</th>
        <th>Created At</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of clientList">
        <td>
          <button class="btn btn-sm btn-primary me-1" (click)="edit(item)">Edit</button>
          <button class="btn btn-sm btn-danger" (click)="delete(item)">Delete</button>
        </td>
        <td>{{ item.name }}</td>
        <td>{{ item.email }}</td>
        <td>
          <a [href]="item.websiteUrl" target="_blank">{{ item.websiteUrl }}</a>
        </td>
        <td>{{ item.apiKey }}</td>
        <td>
          <span [class.text-success]="item.isActive" [class.text-danger]="!item.isActive">
            {{ item.isActive ? 'Yes' : 'No' }}
          </span>
        </td>
        <td>{{ item.companyCode }}</td>
        <td>{{ item.createdAt | date:'short' }}</td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Drawer -->
<div class="offcanvas offcanvas-end" [class.show]="drawerVisible"
  [style.visibility]="drawerVisible ? 'visible' : 'hidden'" style="width: 500px;">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title">{{ drawerTitle }}</h5>
    <button type="button" class="btn-close" (click)="closeDrawer()"></button>
  </div>
  <div class="offcanvas-body p-2">
    <app-companydrawer
      [drawerClose]="closeCallback"
      [drawerVisible]="drawerVisible"
      [editData]="selectedClient">
    </app-companydrawer>
  </div>
</div>
